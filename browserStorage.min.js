window.BrowserStorage=function(){return function(g,p){function v(a){for(var c in a)if(a.hasOwnProperty(c))return n=0,!1;return!0}function h(a){if(""===a)return{};a=a.split("%a");n=a.length;for(var c={},d,b=0;b<a.length;b++)d=a[b].split("%b"),c[d[0].replace(w,"%")]=(d[1]||"").replace(w,"%");return c}function t(a){var c=[],d=0,b;for(b in a)a.hasOwnProperty(b)&&(d++,c.push(b.replace(x,"%p")+"%b"+a[b].replace(x,"%p")));n=d;return c.join("%a")}function k(a,c,d){if("function"!==typeof a||"function"!==typeof c||
"function"!==typeof d)throw Error("TypeError: expected type function, found "+("function"!==typeof a?typeof a:"function"!==typeof c?typeof c:typeof d));var b=String.fromCharCode(++y);l[b]=[c,d];m[a.name]=b;q.push(a)}function z(a,c,d){var b=String.fromCharCode(++y);l[b]=[c,d];m[""+a]=b;q.push(""+a)}function u(a){if(a[0]){var c=a[0],b=a.substring(1);if(l[c])return l[c][1](b);throw Error('Missing deserializer for string "'+a+'"');}return""}var l={},m={},q=[],y=32,b={},e="",n=0,x=/%/g,w=/%p/g;z("undefined",
function(a){return"undefined"},function(a){});z("null",function(a){return"null"},function(a){return null});k(String,function(a){return a},function(a){return a});k(Number,function(a){return""+a},function(a){return+a});k(Boolean,function(a){return""+a},function(a){return"true"===a});k(Object,function(a){return JSON.stringify(a)},function(a){return JSON.parse(a)});k(Date,function(a){return+a},function(a){return new Date(+a)});if(window.localStorage&&!p)var f=window.localStorage;else if(window.sessionStorage&&
p)f=window.sessionStorage;else{var B=p?"":";expires="+new Date(+new Date+307584E5);f={getItem:function(a){if(0<document.cookie.length){var c=document.cookie.indexOf(a+"=");if(-1!==c)return c=c+a.length+1,a=document.cookie.indexOf(";",c),-1===a&&(a=document.cookie.length),decodeURIComponent(document.cookie.substring(c,a))}return""},setItem:function(a,c){document.cookie=a+"="+encodeURIComponent(c)+B+"; path=/"},removeItem:function(a){document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},
clear:function(){for(var a=document.cookie.split(";"),c=0;c<a.length;c++){var b=a[c],e=b.indexOf("=");b=-1<e?b.substr(0,e):b;document.cookie=b+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}}}}var A=f.getItem(g);null!==A&&(e=A,b=h(e));var r={get:function(a,c){c&&(e=f.getItem(g)||"",b=h(e));return a in b?u(b[a]):null},getOrDefault:function(a,c,d){d&&(e=f.getItem(g)||"",b=h(e));return a in b?u(b[a]):c},forEach:function(a,c){c&&(e=f.getItem(g)||"",b=h(e));for(var d in b)b.hasOwnProperty(d)&&a(d,u(b[d]));
return r},contains:function(a,c){c&&(e=f.getItem(g)||"",b=h(e));return a in b},set:function(a,c){e=f.getItem(g)||"";b=h(e);a:if(m[c]){var d=m[""+c];d+=l[d][0](c)}else if(c.constructor&&c.constructor.name&&m[c.constructor.name])d=m[c.constructor.name],d+=l[d][0](c);else{for(d=0;d<q.length;d++)if(c instanceof q[d]){d=m[q[d].name];d=l[d][0](c);break a}throw Error("Missing serializer for object "+c+" (type "+typeof c+")");}if(a in b)b[a]=d,e=t(b);else if(""===e)b={},b[a]=d,e=t(b);else{var k={};k[a]=d;
var p=n;e+="%a"+t(k);n=p+1;b[a]=d}f.setItem(g,e);return r},remove:function(a){a in b&&(delete b[a],e=t(b),v(b)?f.removeItem(g):f.setItem(g,e));return r},clear:function(){f.clear();b={};e="";return r},isEmpty:function(a){a&&(e=f.getItem(g)||"",b=h(e));return v(b)},length:function(a){a&&(e=f.getItem(g)||"",b=h(e));return n}};return r}}();